<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0"
          xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          xmlns:granite="http://www.adobe.com/jcr/granite/1.0"
          jcr:primaryType="nt:unstructured"
          jcr:title="<%= className %>"
          sling:resourceType="cq/gui/components/authoring/dialog">
    <content
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/coral/foundation/fixedcolumns">
        <items jcr:primaryType="nt:unstructured">
            <%if(tabs.length > 0 && tabs.length < 4){ -%>
            <tabs
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/tabs"
                    maximized="{Boolean}true">
                <items jcr:primaryType="nt:unstructured">
                    <% tabs.forEach((tab,i) =>{ -%>
                    <<%=tab.name%>
                            jcr:primaryType="nt:unstructured"
                            jcr:title="<%=tab.name%> Tab"
                            sling:resourceType="granite/ui/components/coral/foundation/fixedcolumns"
                            margin="{Boolean}true">
                    <items jcr:primaryType="nt:unstructured">
                        <% if(i === 0){ -%>
                            <column
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/coral/foundation/container">
                                <items jcr:primaryType="nt:unstructured">
                                    <% fields.forEach((field) =>{ %>
                                        <<%= field.name %>
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/form/<%
                                        if(field.resourceType === 'textfield'){ %><%= field.resourceType %>"
                                        fieldLabel="<%= field.name %>"
                                        name="./<%= field.name %>"
                                        <%
                                        } else if(field.resourceType === 'checkbox'){ %><%= field.resourceType %>"
                                        text="<%= field.name %>"
                                        name="./<%= field.name %>"
                                        uncheckedValue="false"
                                        value="true"
                                        <%
                                        } else if(field.resourceType === 'textarea'){ %><%= field.resourceType %>"
                                        fieldLabel="<%= field.name %>"
                                        name="./<%= field.name %>"
                                        <%
                                        } else{ -%>"/><%
                                        }-%>
                                        <% if(field.description != null){ -%>
                                            fieldDescription="<%= field.description %>"<%
                                        } -%>
                                        />
                                    <% }) %>
                                    <% richTexts.forEach(function(richText) { -%>
                                        <richText
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/authoring/dialog/richtext"
                                                fieldLabel="Text"
                                                name="./<%= richText.name %>"
                                        <% if(richText.description != null){ -%>
                                                fieldDescription="<%= richText.description %>"<%
                                        } -%>
                                                required="{Boolean}false"
                                                useFixedInlineToolbar="{Boolean}true">
                                            <rtePlugins jcr:primaryType="nt:unstructured">
                                                <format
                                                        jcr:primaryType="nt:unstructured"
                                                        features="bold,italic,underline"/>
                                                <justify
                                                        jcr:primaryType="nt:unstructured"
                                                        features="-"/>
                                                <links
                                                        jcr:primaryType="nt:unstructured"
                                                        features="modifylink,unlink"/>
                                                <lists
                                                        jcr:primaryType="nt:unstructured"
                                                        features="*"/>
                                                <misctools jcr:primaryType="nt:unstructured">
                                                    <specialCharsConfig jcr:primaryType="nt:unstructured">
                                                        <chars jcr:primaryType="nt:unstructured">
                                                            <default_copyright
                                                                    jcr:primaryType="nt:unstructured"
                                                                    entity="&amp;copy;"
                                                                    name="copyright"/>
                                                            <default_euro
                                                                    jcr:primaryType="nt:unstructured"
                                                                    entity="&amp;euro;"
                                                                    name="euro"/>
                                                            <default_registered
                                                                    jcr:primaryType="nt:unstructured"
                                                                    entity="&amp;reg;"
                                                                    name="registered"/>
                                                            <default_trademark
                                                                    jcr:primaryType="nt:unstructured"
                                                                    entity="&amp;trade;"
                                                                    name="trademark"/>
                                                        </chars>
                                                    </specialCharsConfig>
                                                </misctools>
                                                <paraformat
                                                        jcr:primaryType="nt:unstructured"
                                                        features="*">
                                                    <formats jcr:primaryType="nt:unstructured">
                                                        <default_p
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Paragraph"
                                                                tag="p"/>
                                                        <default_h1
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Heading 1"
                                                                tag="h1"/>
                                                        <default_h2
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Heading 2"
                                                                tag="h2"/>
                                                        <default_h3
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Heading 3"
                                                                tag="h3"/>
                                                        <default_h4
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Heading 4"
                                                                tag="h4"/>
                                                        <default_h5
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Heading 5"
                                                                tag="h5"/>
                                                        <default_h6
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Heading 6"
                                                                tag="h6"/>
                                                        <default_blockquote
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Quote"
                                                                tag="blockquote"/>
                                                        <default_pre
                                                                jcr:primaryType="nt:unstructured"
                                                                description="Preformatted"
                                                                tag="pre"/>
                                                    </formats>
                                                </paraformat>
                                                <table
                                                        jcr:primaryType="nt:unstructured"
                                                        features="*">
                                                    <hiddenHeaderConfig
                                                            jcr:primaryType="nt:unstructured"
                                                            hiddenHeaderClassName="cq-wcm-foundation-aria-visuallyhidden"
                                                            hiddenHeaderEditingCSS="cq-RichText-hiddenHeader--editing"/>
                                                </table>
                                                <tracklinks
                                                        jcr:primaryType="nt:unstructured"
                                                        features="*"/>
                                            </rtePlugins>
                                            <uiSettings jcr:primaryType="nt:unstructured">
                                                <cui jcr:primaryType="nt:unstructured">
                                                    <inline
                                                            jcr:primaryType="nt:unstructured"
                                                            toolbar="[format#bold,format#italic,format#underline,subsuperscript#superscript,subsuperscript#subscript,#justify,#lists,links#modifylink,links#unlink,#paraformat]">
                                                        <popovers jcr:primaryType="nt:unstructured">
                                                            <justify
                                                                    jcr:primaryType="nt:unstructured"
                                                                    items="[justify#justifyleft,justify#justifycenter,justify#justifyright,justify#justifyjustify]"
                                                                    ref="justify"/>
                                                            <lists
                                                                    jcr:primaryType="nt:unstructured"
                                                                    items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
                                                                    ref="lists"/>
                                                            <paraformat
                                                                    jcr:primaryType="nt:unstructured"
                                                                    items="paraformat:getFormats:paraformat-pulldown"
                                                                    ref="paraformat"/>
                                                        </popovers>
                                                    </inline>
                                                    <tableEditOptions
                                                            jcr:primaryType="nt:unstructured"
                                                            toolbar="[table#insertcolumn-before,table#insertcolumn-after,table#removecolumn,-,table#insertrow-before,table#insertrow-after,table#removerow,-,table#mergecells-right,table#mergecells-down,table#mergecells,table#splitcell-horizontal,table#splitcell-vertical,-,table#selectrow,table#selectcolumn,-,table#ensureparagraph,-,table#modifytableandcell,table#removetable,-,undo#undo,undo#redo,-,table#exitTableEditing,-]"/>
                                                </cui>
                                            </uiSettings>
                                        </richText>
                                    <% }); -%>
                                    <% images.forEach(function(img) { %>
                                        <<%= img.name %>
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                        autoStart="{Boolean}false"
                                        class="cq-droptarget"
                                        fieldLabel="<%= img.name %>"
                                        fileNameParameter="./<%= img.fileName %>"
                                        fileReferenceParameter="./<%= img.fileReference %>"
                                        <% if(img.description != null){ -%>
                                            fieldDescription="<%= img.description %>"<%
                                        } -%>
                                        mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                        multiple="{Boolean}false"
                                        name="./<%= img.name %>"
                                        title="Image"
                                        uploadUrl="${suffix.path}"
                                        useHTML5="{Boolean}true"/>
                                    <% }); %>
                                    <% videos.forEach(function(video) { %>
                                        <VideoContainer
                                                jcr:primaryType="nt:unstructured"
                                                jcr:title="VideoContainer"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                                            <items jcr:primaryType="nt:unstructured">
                                                <% if(video.poster != null){ -%>
                                                    <<%= video.poster %>
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                    autoStart="{Boolean}false"
                                                    class="cq-droptarget"
                                                    fieldLabel="Poster for video"
                                                    fileNameParameter="./<%= video.name + "PosterName" %>"
                                                    fileReferenceParameter="./<%= video.poster %>"
                                                    mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                                    multiple="{Boolean}false"
                                                    name="./<%= video.name + "PosterName" %>"
                                                    title="Image"
                                                    uploadUrl="${suffix.path}"
                                                    useHTML5="{Boolean}true"/>
                                                <%} -%>
                                                <<%= video.name %>
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                autoStart="{Boolean}false"
                                                class="cq-droptarget"
                                                fieldLabel="Video Mp4 url"
                                                fileNameParameter="./<%= video.fileName %>"
                                                fileReferenceParameter="./<%= video.fileReference %>"
                                                <% if(video.description != null){ -%>
                                                    fieldDescription="<%= video.description %>"<%
                                                } -%>
                                                mimeTypes="[video/mp4]"
                                                multiple="{Boolean}false"
                                                name="./<%= video.name %>"
                                                title="Video MP4 url"
                                                uploadUrl="${suffix.path}"
                                                useHTML5="{Boolean}true"/>
                                            </items>
                                        </VideoContainer>
                                    <% }); %>
                                    <% links.forEach(function(link) { %>
                                        <<%= link.name %>Container
                                                jcr:primaryType="nt:unstructured"
                                                jcr:title="<%= link.name %> Container"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                                            <items jcr:primaryType="nt:unstructured">
                                                <<%= link.checkBox %>
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/foundation/form/checkbox"
                                                text="Open link in another tab."
                                                <% if(link.description != null){ -%>
                                                    fieldDescription="<%= link.description %>"<%
                                                } -%>
                                                name="./<%= link.checkBox %>"
                                                value="true"/>
                                                <<%= link.name %>
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                                fieldLabel="<%= link.name %>"
                                                name="./<%= link.name %>"
                                                required="{Boolean}false"
                                                rootPath="/content"/>
                                            </items>
                                        </<%= link.name %>Container>
                                    <% }); %>
                                    <% selects.forEach(function(sel) { %>
                                        <<%= sel.name %>
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                        fieldLabel="<%= sel.name %>"
                                        name="./<%= sel.name %>">
                                        <items jcr:primaryType="nt:unstructured">
                                            <% sel.options.forEach((opt) => { %>
                                                <<%= opt %>
                                                jcr:primaryType="nt:unstructured"
                                                text="<%= opt %>"
                                                value="<%= opt %>"/>
                                            <% }) %>
                                        </items>
                                </<%= sel.name %>>
                                <% }); -%>
                                <% lists.forEach(function(list) { %>
                                    <<%= list.ulName %>List
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                                            fieldLabel="<%= list.ulName %>"
                                            <% if(list.description != null){ -%>
                                            fieldDescription="<%= list.description %>"<%} %>
                                            composite="{Boolean}true">
                                        <field jcr:primaryType="nt:unstructured"
                                               sling:resourceType="granite/ui/components/coral/foundation/container"
                                               name="./<%= list.ulName %>">
                                            <items jcr:primaryType="nt:unstructured">
                                                <% list.liItems.forEach((item) =>{ -%>
                                                    <% if(item.resourceType === "textfield" || item.resourceType === "textarea"){ -%>
                                                        <<%= item.name %>
                                                        jcr:primaryType="nt:unstructured"
                                                        sling:resourceType="granite/ui/components/coral/foundation/form/<%= item.resourceType %>"
                                                        fieldLabel="<%= item.name %>"
                                                        name="./<%= item.name %>"/>
                                                    <% }else if(item.resourceType === "checkbox"){ -%>
                                                        <<%= item.name %>
                                                        jcr:primaryType="nt:unstructured"
                                                        sling:resourceType="granite/ui/components/coral/foundation/form/<%= item.resourceType %>"
                                                        text="<%= item.name %>"
                                                        name="./<%= item.name %>"
                                                        uncheckedValue="false"
                                                        value="true"
                                                    <% }-%>
                                                    <% if(item.link){ -%>
                                                        <<%= item.link.name %>Container
                                                                jcr:primaryType="nt:unstructured"
                                                                jcr:title="<%= item.link.name %> Container"
                                                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                                                            <items jcr:primaryType="nt:unstructured">
                                                                <<%= item.link.checkBox %>
                                                                jcr:primaryType="nt:unstructured"
                                                                sling:resourceType="granite/ui/components/foundation/form/checkbox"
                                                                text="Open link in another tab."
                                                                <% if(item.link.description != null){ -%>
                                                                    fieldDescription="<%= item.link.description %>"<%
                                                                } -%>
                                                                name="./<%= item.link.checkBox %>"
                                                                value="true"/>
                                                                <<%= item.link.name %>
                                                                jcr:primaryType="nt:unstructured"
                                                                sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                                                fieldLabel="<%= item.link.name %>"
                                                                name="./<%= item.link.name %>"
                                                                required="{Boolean}false"
                                                                rootPath="/content"/>
                                                            </items>
                                                        </<%= item.link.name %>Container>
                                                    <% } -%>
                                                    <% if(item.img){ -%>
                                                        <<%= item.img.name %>
                                                        jcr:primaryType="nt:unstructured"
                                                        sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                        autoStart="{Boolean}false"
                                                        class="cq-droptarget"
                                                        fieldLabel="Image"
                                                        fileNameParameter="./<%= item.img.fileName %>"
                                                        fileReferenceParameter="./<%= item.img.fileReference %>"
                                                        mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                                        multiple="{Boolean}false"
                                                        name="./<%= item.img.name %>"
                                                        title="Image"
                                                        uploadUrl="${suffix.path}"
                                                        useHTML5="{Boolean}true"/>
                                                    <% } -%>
                                                        <% if(item.video){ -%>
                                                            <VideoContainer
                                                                    jcr:primaryType="nt:unstructured"
                                                                    jcr:title="VideoContainer"
                                                                    sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                                                                <items jcr:primaryType="nt:unstructured">
                                                                    <% if(item.video.poster != null){ -%>
                                                                        <<%= item.video.poster %>
                                                                        jcr:primaryType="nt:unstructured"
                                                                        sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                                        autoStart="{Boolean}false"
                                                                        class="cq-droptarget"
                                                                        fieldLabel="Poster for video"
                                                                        fileNameParameter="./<%= item.video.name + "PosterName" %>"
                                                                        fileReferenceParameter="./<%= item.video.poster %>"
                                                                        mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                                                        multiple="{Boolean}false"
                                                                        name="./<%= item.video.name + "PosterName" %>"
                                                                        title="Image"
                                                                        uploadUrl="${suffix.path}"
                                                                        useHTML5="{Boolean}true"/>
                                                                    <%} -%>
                                                                    <<%= item.video.name %>
                                                                    jcr:primaryType="nt:unstructured"
                                                                    sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                                    autoStart="{Boolean}false"
                                                                    class="cq-droptarget"
                                                                    fieldLabel="Video Mp4 url"
                                                                    fileNameParameter="./<%= item.video.fileName %>"
                                                                    fileReferenceParameter="./<%= item.video.fileReference %>"
                                                                    <% if(item.video.description != null){ -%>
                                                                        fieldDescription="<%= item.video.description %>"<%
                                                                    } -%>
                                                                    mimeTypes="[video/mp4]"
                                                                    multiple="{Boolean}false"
                                                                    name="./<%= item.video.name %>"
                                                                    title="Video MP4 url"
                                                                    uploadUrl="${suffix.path}"
                                                                    useHTML5="{Boolean}true"/>
                                                                </items>
                                                            </VideoContainer>
                                                        <% } -%>
                                                    <% if(item.richText){ -%>
                                                        <<%= item.richText.name %>
                                                        jcr:primaryType="nt:unstructured"
                                                        sling:resourceType="cq/gui/components/authoring/dialog/richtext"
                                                        fieldLabel="Text"
                                                        name="./<%= item.richText.name %>"
                                                        <% if(item.richText.description != null){ -%>
                                                            fieldDescription="<%= item.richText.description %>"<%
                                                        } -%>
                                                        required="{Boolean}false"
                                                        useFixedInlineToolbar="{Boolean}true">
                                                        <rtePlugins jcr:primaryType="nt:unstructured">
                                                            <format
                                                                    jcr:primaryType="nt:unstructured"
                                                                    features="bold,italic,underline"/>
                                                            <justify
                                                                    jcr:primaryType="nt:unstructured"
                                                                    features="-"/>
                                                            <links
                                                                    jcr:primaryType="nt:unstructured"
                                                                    features="modifylink,unlink"/>
                                                            <lists
                                                                    jcr:primaryType="nt:unstructured"
                                                                    features="*"/>
                                                            <misctools jcr:primaryType="nt:unstructured">
                                                                <specialCharsConfig jcr:primaryType="nt:unstructured">
                                                                    <chars jcr:primaryType="nt:unstructured">
                                                                        <default_copyright
                                                                                jcr:primaryType="nt:unstructured"
                                                                                entity="&amp;copy;"
                                                                                name="copyright"/>
                                                                        <default_euro
                                                                                jcr:primaryType="nt:unstructured"
                                                                                entity="&amp;euro;"
                                                                                name="euro"/>
                                                                        <default_registered
                                                                                jcr:primaryType="nt:unstructured"
                                                                                entity="&amp;reg;"
                                                                                name="registered"/>
                                                                        <default_trademark
                                                                                jcr:primaryType="nt:unstructured"
                                                                                entity="&amp;trade;"
                                                                                name="trademark"/>
                                                                    </chars>
                                                                </specialCharsConfig>
                                                            </misctools>
                                                            <paraformat
                                                                    jcr:primaryType="nt:unstructured"
                                                                    features="*">
                                                                <formats jcr:primaryType="nt:unstructured">
                                                                    <default_p
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Paragraph"
                                                                            tag="p"/>
                                                                    <default_h1
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Heading 1"
                                                                            tag="h1"/>
                                                                    <default_h2
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Heading 2"
                                                                            tag="h2"/>
                                                                    <default_h3
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Heading 3"
                                                                            tag="h3"/>
                                                                    <default_h4
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Heading 4"
                                                                            tag="h4"/>
                                                                    <default_h5
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Heading 5"
                                                                            tag="h5"/>
                                                                    <default_h6
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Heading 6"
                                                                            tag="h6"/>
                                                                    <default_blockquote
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Quote"
                                                                            tag="blockquote"/>
                                                                    <default_pre
                                                                            jcr:primaryType="nt:unstructured"
                                                                            description="Preformatted"
                                                                            tag="pre"/>
                                                                </formats>
                                                            </paraformat>
                                                            <table
                                                                    jcr:primaryType="nt:unstructured"
                                                                    features="*">
                                                                <hiddenHeaderConfig
                                                                        jcr:primaryType="nt:unstructured"
                                                                        hiddenHeaderClassName="cq-wcm-foundation-aria-visuallyhidden"
                                                                        hiddenHeaderEditingCSS="cq-RichText-hiddenHeader--editing"/>
                                                            </table>
                                                            <tracklinks
                                                                    jcr:primaryType="nt:unstructured"
                                                                    features="*"/>
                                                        </rtePlugins>
                                                        <uiSettings jcr:primaryType="nt:unstructured">
                                                            <cui jcr:primaryType="nt:unstructured">
                                                                <inline
                                                                        jcr:primaryType="nt:unstructured"
                                                                        toolbar="[format#bold,format#italic,format#underline,subsuperscript#superscript,subsuperscript#subscript,#justify,#lists,links#modifylink,links#unlink,#paraformat]">
                                                                    <popovers jcr:primaryType="nt:unstructured">
                                                                        <justify
                                                                                jcr:primaryType="nt:unstructured"
                                                                                items="[justify#justifyleft,justify#justifycenter,justify#justifyright,justify#justifyjustify]"
                                                                                ref="justify"/>
                                                                        <lists
                                                                                jcr:primaryType="nt:unstructured"
                                                                                items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
                                                                                ref="lists"/>
                                                                        <paraformat
                                                                                jcr:primaryType="nt:unstructured"
                                                                                items="paraformat:getFormats:paraformat-pulldown"
                                                                                ref="paraformat"/>
                                                                    </popovers>
                                                                </inline>
                                                                <tableEditOptions
                                                                        jcr:primaryType="nt:unstructured"
                                                                        toolbar="[table#insertcolumn-before,table#insertcolumn-after,table#removecolumn,-,table#insertrow-before,table#insertrow-after,table#removerow,-,table#mergecells-right,table#mergecells-down,table#mergecells,table#splitcell-horizontal,table#splitcell-vertical,-,table#selectrow,table#selectcolumn,-,table#ensureparagraph,-,table#modifytableandcell,table#removetable,-,undo#undo,undo#redo,-,table#exitTableEditing,-]"/>
                                                            </cui>
                                                        </uiSettings>
                                            </<%= item.richText.name %>>
                                            <% } -%>
                                            <% }) -%>
                    </items>
                    </field>
                    </<%= list.ulName %>List>
                    <% }); -%>
                </items>
                </column>
                        <% }else{ -%>
                            <column
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/container">
                                    <items jcr:primaryType="nt:unstructured">
                                    </items>
                                </column>
                        <% }-%>
                    </items>
                    </<%=tab.name%>>
                    <% }) -%>
                </items>
            </tabs>
            <% }else{ -%>
            <column
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/container">
                <items jcr:primaryType="nt:unstructured">
                    <% fields.forEach((field) =>{ %>
                        <<%= field.name %>
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/<%
                        if(field.resourceType === 'textfield'){ %><%= field.resourceType %>"
                        fieldLabel="<%= field.name %>"
                        name="./<%= field.name %>"
                        value="<%= field.name %>"
                        <%
                        } else if(field.resourceType === 'checkbox'){ %><%= field.resourceType %>"
                        text="<%= field.name %>"
                        name="./<%= field.name %>"
                        uncheckedValue="false"
                        value="true"
                        <%
                        } else if(field.resourceType === 'textarea'){ %><%= field.resourceType %>"
                        fieldLabel="<%= field.name %>"
                        name="./<%= field.name %>"
                        value="<%= field.name %>"
                        <%
                        } else{ -%>"/><%
                        }-%>
                        <% if(field.description != null){ -%>
                            fieldDescription="<%= field.description %>"<%
                        } -%>
                        />
                    <% }) %>
                    <% richTexts.forEach(function(richText) { -%>
                            <richText
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/gui/components/authoring/dialog/richtext"
                                    fieldLabel="Text"
                                    name="./<%= richText.name %>"
                            <% if(richText.description != null){ -%>
                                    fieldDescription="<%= richText.description %>"<%
                            } -%>
                                    required="{Boolean}false"
                                    useFixedInlineToolbar="{Boolean}true">
                                <rtePlugins jcr:primaryType="nt:unstructured">
                                    <format
                                            jcr:primaryType="nt:unstructured"
                                            features="bold,italic,underline"/>
                                    <justify
                                            jcr:primaryType="nt:unstructured"
                                            features="-"/>
                                    <links
                                            jcr:primaryType="nt:unstructured"
                                            features="modifylink,unlink"/>
                                    <lists
                                            jcr:primaryType="nt:unstructured"
                                            features="*"/>
                                    <misctools jcr:primaryType="nt:unstructured">
                                        <specialCharsConfig jcr:primaryType="nt:unstructured">
                                            <chars jcr:primaryType="nt:unstructured">
                                                <default_copyright
                                                        jcr:primaryType="nt:unstructured"
                                                        entity="&amp;copy;"
                                                        name="copyright"/>
                                                <default_euro
                                                        jcr:primaryType="nt:unstructured"
                                                        entity="&amp;euro;"
                                                        name="euro"/>
                                                <default_registered
                                                        jcr:primaryType="nt:unstructured"
                                                        entity="&amp;reg;"
                                                        name="registered"/>
                                                <default_trademark
                                                        jcr:primaryType="nt:unstructured"
                                                        entity="&amp;trade;"
                                                        name="trademark"/>
                                            </chars>
                                        </specialCharsConfig>
                                    </misctools>
                                    <paraformat
                                            jcr:primaryType="nt:unstructured"
                                            features="*">
                                        <formats jcr:primaryType="nt:unstructured">
                                            <default_p
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Paragraph"
                                                    tag="p"/>
                                            <default_h1
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Heading 1"
                                                    tag="h1"/>
                                            <default_h2
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Heading 2"
                                                    tag="h2"/>
                                            <default_h3
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Heading 3"
                                                    tag="h3"/>
                                            <default_h4
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Heading 4"
                                                    tag="h4"/>
                                            <default_h5
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Heading 5"
                                                    tag="h5"/>
                                            <default_h6
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Heading 6"
                                                    tag="h6"/>
                                            <default_blockquote
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Quote"
                                                    tag="blockquote"/>
                                            <default_pre
                                                    jcr:primaryType="nt:unstructured"
                                                    description="Preformatted"
                                                    tag="pre"/>
                                        </formats>
                                    </paraformat>
                                    <table
                                            jcr:primaryType="nt:unstructured"
                                            features="*">
                                        <hiddenHeaderConfig
                                                jcr:primaryType="nt:unstructured"
                                                hiddenHeaderClassName="cq-wcm-foundation-aria-visuallyhidden"
                                                hiddenHeaderEditingCSS="cq-RichText-hiddenHeader--editing"/>
                                    </table>
                                    <tracklinks
                                            jcr:primaryType="nt:unstructured"
                                            features="*"/>
                                </rtePlugins>
                                <uiSettings jcr:primaryType="nt:unstructured">
                                    <cui jcr:primaryType="nt:unstructured">
                                        <inline
                                                jcr:primaryType="nt:unstructured"
                                                toolbar="[format#bold,format#italic,format#underline,subsuperscript#superscript,subsuperscript#subscript,#justify,#lists,links#modifylink,links#unlink,#paraformat]">
                                            <popovers jcr:primaryType="nt:unstructured">
                                                <justify
                                                        jcr:primaryType="nt:unstructured"
                                                        items="[justify#justifyleft,justify#justifycenter,justify#justifyright,justify#justifyjustify]"
                                                        ref="justify"/>
                                                <lists
                                                        jcr:primaryType="nt:unstructured"
                                                        items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
                                                        ref="lists"/>
                                                <paraformat
                                                        jcr:primaryType="nt:unstructured"
                                                        items="paraformat:getFormats:paraformat-pulldown"
                                                        ref="paraformat"/>
                                            </popovers>
                                        </inline>
                                        <tableEditOptions
                                                jcr:primaryType="nt:unstructured"
                                                toolbar="[table#insertcolumn-before,table#insertcolumn-after,table#removecolumn,-,table#insertrow-before,table#insertrow-after,table#removerow,-,table#mergecells-right,table#mergecells-down,table#mergecells,table#splitcell-horizontal,table#splitcell-vertical,-,table#selectrow,table#selectcolumn,-,table#ensureparagraph,-,table#modifytableandcell,table#removetable,-,undo#undo,undo#redo,-,table#exitTableEditing,-]"/>
                                    </cui>
                                </uiSettings>
                            </richText>
                        <% }); -%>
                    <% images.forEach(function(img) { %>
                        <<%= img.name %>
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                        autoStart="{Boolean}false"
                        class="cq-droptarget"
                        fieldLabel="<%= img.name %>"
                        fileNameParameter="./<%= img.fileName %>"
                        fileReferenceParameter="./<%= img.fileReference %>"
                        mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                        multiple="{Boolean}false"
                        name="./<%= img.name %>"
                        title="Image"
                        uploadUrl="${suffix.path}"
                        useHTML5="{Boolean}true"/>
                    <% }); %>
                    <% videos.forEach(function(video) { %>
                        <VideoContainer
                                jcr:primaryType="nt:unstructured"
                                jcr:title="VideoContainer"
                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                            <items jcr:primaryType="nt:unstructured">
                                <% if(video.poster != null){ -%>
                                    <<%= video.poster %>
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                    autoStart="{Boolean}false"
                                    class="cq-droptarget"
                                    fieldLabel="Poster for video"
                                    fileNameParameter="./<%= video.name + "PosterName" %>"
                                    fileReferenceParameter="./<%= video.poster %>"
                                    mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                    multiple="{Boolean}false"
                                    name="./<%= video.name + "PosterName" %>"
                                    title="Image"
                                    uploadUrl="${suffix.path}"
                                    useHTML5="{Boolean}true"/>
                                <%} -%>
                                <<%= video.name %>
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                autoStart="{Boolean}false"
                                class="cq-droptarget"
                                fieldLabel="Video Mp4 url"
                                fileNameParameter="./<%= video.fileName %>"
                                fileReferenceParameter="./<%= video.fileReference %>"
                                <% if(video.description != null){ -%>
                                    fieldDescription="<%= video.description %>"<%
                                } -%>
                                mimeTypes="[video/mp4]"
                                multiple="{Boolean}false"
                                name="./<%= video.name %>"
                                title="Video MP4 url"
                                uploadUrl="${suffix.path}"
                                useHTML5="{Boolean}true"/>
                            </items>
                        </VideoContainer>
                    <% }); %>
                    <% links.forEach(function(link) { %>
                        <<%= link.name %>Container
                                jcr:primaryType="nt:unstructured"
                                jcr:title="<%= link.name %> Container"
                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                            <items jcr:primaryType="nt:unstructured">
                                <<%= link.checkBox %>
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/form/checkbox"
                                text="Open link in another tab."
                                <% if(link.description != null){ -%>
                                fieldDescription="<%= link.description %>"<%
                                } -%>
                                name="./<%= link.checkBox %>"
                                value="true"/>
                                <<%= link.name %>
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                fieldLabel="<%= link.name %>"
                                name="./<%= link.name %>"
                                required="{Boolean}false"
                                rootPath="/content"/>
                            </items>
                        </<%= link.name %>Container>
                    <% }); %>
                    <% selects.forEach(function(sel) { %>
                        <<%= sel.name %>
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/select"
                        fieldLabel="<%= sel.name %>"
                        name="./<%= sel.name %>">
                        <items jcr:primaryType="nt:unstructured">
                            <% sel.options.forEach((opt) => { %>
                                <<%= opt %>
                                jcr:primaryType="nt:unstructured"
                                text="<%= opt %>"
                                value="<%= opt %>"/>
                            <% }) %>
                        </items>
                </<%= sel.name %>>
                <% }); -%>
                <% lists.forEach(function(list) { %>
                    <<%= list.ulName %>List
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                            fieldLabel="<%= list.ulName %>"
                            <% if(list.description != null){ -%>
                            fieldDescription="<%= list.description %>"<%} %>
                            composite="{Boolean}true">
                        <field jcr:primaryType="nt:unstructured"
                               sling:resourceType="granite/ui/components/coral/foundation/container"
                               name="./<%= list.ulName %>">
                            <items jcr:primaryType="nt:unstructured">
                                <% list.liItems.forEach((item) =>{ -%>
                                    <% if(item.resourceType === "textfield" || item.resourceType === "textarea"){ -%>
                                        <<%= item.name %>
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/form/<%= item.resourceType %>"
                                        fieldLabel="<%= item.name %>"
                                        name="./<%= item.name %>"/>
                                    <% }else if(item.resourceType === "checkbox"){ -%>
                                        <<%= item.name %>
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/form/<%= item.resourceType %>"
                                        text="<%= item.name %>"
                                        name="./<%= item.name %>"
                                        uncheckedValue="false"
                                        value="true"
                                    <% }-%>
                                    <% if(item.link){ -%>
                                        <<%= item.link.name %>Container
                                                jcr:primaryType="nt:unstructured"
                                                jcr:title="<%= item.link.name %> Container"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                                            <items jcr:primaryType="nt:unstructured">
                                                <<%= item.link.checkBox %>
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/foundation/form/checkbox"
                                                text="Open link in another tab."
                                                <% if(item.link.description != null){ -%>
                                                    fieldDescription="<%= item.link.description %>"<%
                                                } -%>
                                                name="./<%= item.link.checkBox %>"
                                                value="true"/>
                                                <<%= item.link.name %>
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                                fieldLabel="<%= item.link.name %>"
                                                name="./<%= item.link.name %>"
                                                required="{Boolean}false"
                                                rootPath="/content"/>
                                            </items>
                                        </<%= item.link.name %>Container>
                                    <% } -%>
                                    <% if(item.img){ -%>
                                            <<%= item.img.name %>
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                            autoStart="{Boolean}false"
                                            class="cq-droptarget"
                                            fieldLabel="Image"
                                            fileNameParameter="./<%= item.img.fileName %>"
                                            fileReferenceParameter="./<%= item.img.fileReference %>"
                                            mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                            multiple="{Boolean}false"
                                            name="./<%= item.img.name %>"
                                            title="Image"
                                            uploadUrl="${suffix.path}"
                                            useHTML5="{Boolean}true"/>
                                        <% } -%>
                                    <% if(item.video){ -%>
                                        <VideoContainer
                                                jcr:primaryType="nt:unstructured"
                                                jcr:title="VideoContainer"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset">
                                            <items jcr:primaryType="nt:unstructured">
                                                <% if(item.video.poster != null){ -%>
                                                    <<%= item.video.poster %>
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                    autoStart="{Boolean}false"
                                                    class="cq-droptarget"
                                                    fieldLabel="Poster for video"
                                                    fileNameParameter="./<%= item.video.name + "PosterName" %>"
                                                    fileReferenceParameter="./<%= item.video.poster %>"
                                                    mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                                    multiple="{Boolean}false"
                                                    name="./<%= item.video.name + "PosterName" %>"
                                                    title="Image"
                                                    uploadUrl="${suffix.path}"
                                                    useHTML5="{Boolean}true"/>
                                                <%} -%>
                                                <<%= item.video.name %>
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                autoStart="{Boolean}false"
                                                class="cq-droptarget"
                                                fieldLabel="Video Mp4 url"
                                                fileNameParameter="./<%= item.video.fileName %>"
                                                fileReferenceParameter="./<%= item.video.fileReference %>"
                                                <% if(item.video.description != null){ -%>
                                                    fieldDescription="<%= item.video.description %>"<%
                                                } -%>
                                                mimeTypes="[video/mp4]"
                                                multiple="{Boolean}false"
                                                name="./<%= item.video.name %>"
                                                title="Video MP4 url"
                                                uploadUrl="${suffix.path}"
                                                useHTML5="{Boolean}true"/>
                                            </items>
                                            </VideoContainer>
                                        <% } -%>
                                    <% if(item.richText){ -%>
                                            <<%= item.richText.name %>
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType="cq/gui/components/authoring/dialog/richtext"
                                                    fieldLabel="Text"
                                                    name="./<%= item.richText.name %>"
                                            <% if(item.richText.description != null){ -%>
                                                    fieldDescription="<%= item.richText.description %>"<%
                                            } -%>
                                                    required="{Boolean}false"
                                                    useFixedInlineToolbar="{Boolean}true">
                                                <rtePlugins jcr:primaryType="nt:unstructured">
                                                    <format
                                                            jcr:primaryType="nt:unstructured"
                                                            features="bold,italic,underline"/>
                                                    <justify
                                                            jcr:primaryType="nt:unstructured"
                                                            features="-"/>
                                                    <links
                                                            jcr:primaryType="nt:unstructured"
                                                            features="modifylink,unlink"/>
                                                    <lists
                                                            jcr:primaryType="nt:unstructured"
                                                            features="*"/>
                                                    <misctools jcr:primaryType="nt:unstructured">
                                                        <specialCharsConfig jcr:primaryType="nt:unstructured">
                                                            <chars jcr:primaryType="nt:unstructured">
                                                                <default_copyright
                                                                        jcr:primaryType="nt:unstructured"
                                                                        entity="&amp;copy;"
                                                                        name="copyright"/>
                                                                <default_euro
                                                                        jcr:primaryType="nt:unstructured"
                                                                        entity="&amp;euro;"
                                                                        name="euro"/>
                                                                <default_registered
                                                                        jcr:primaryType="nt:unstructured"
                                                                        entity="&amp;reg;"
                                                                        name="registered"/>
                                                                <default_trademark
                                                                        jcr:primaryType="nt:unstructured"
                                                                        entity="&amp;trade;"
                                                                        name="trademark"/>
                                                            </chars>
                                                        </specialCharsConfig>
                                                    </misctools>
                                                    <paraformat
                                                            jcr:primaryType="nt:unstructured"
                                                            features="*">
                                                        <formats jcr:primaryType="nt:unstructured">
                                                            <default_p
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Paragraph"
                                                                    tag="p"/>
                                                            <default_h1
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Heading 1"
                                                                    tag="h1"/>
                                                            <default_h2
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Heading 2"
                                                                    tag="h2"/>
                                                            <default_h3
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Heading 3"
                                                                    tag="h3"/>
                                                            <default_h4
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Heading 4"
                                                                    tag="h4"/>
                                                            <default_h5
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Heading 5"
                                                                    tag="h5"/>
                                                            <default_h6
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Heading 6"
                                                                    tag="h6"/>
                                                            <default_blockquote
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Quote"
                                                                    tag="blockquote"/>
                                                            <default_pre
                                                                    jcr:primaryType="nt:unstructured"
                                                                    description="Preformatted"
                                                                    tag="pre"/>
                                                        </formats>
                                                    </paraformat>
                                                    <table
                                                            jcr:primaryType="nt:unstructured"
                                                            features="*">
                                                        <hiddenHeaderConfig
                                                                jcr:primaryType="nt:unstructured"
                                                                hiddenHeaderClassName="cq-wcm-foundation-aria-visuallyhidden"
                                                                hiddenHeaderEditingCSS="cq-RichText-hiddenHeader--editing"/>
                                                    </table>
                                                    <tracklinks
                                                            jcr:primaryType="nt:unstructured"
                                                            features="*"/>
                                                </rtePlugins>
                                                <uiSettings jcr:primaryType="nt:unstructured">
                                                    <cui jcr:primaryType="nt:unstructured">
                                                        <inline
                                                                jcr:primaryType="nt:unstructured"
                                                                toolbar="[format#bold,format#italic,format#underline,subsuperscript#superscript,subsuperscript#subscript,#justify,#lists,links#modifylink,links#unlink,#paraformat]">
                                                            <popovers jcr:primaryType="nt:unstructured">
                                                                <justify
                                                                        jcr:primaryType="nt:unstructured"
                                                                        items="[justify#justifyleft,justify#justifycenter,justify#justifyright,justify#justifyjustify]"
                                                                        ref="justify"/>
                                                                <lists
                                                                        jcr:primaryType="nt:unstructured"
                                                                        items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
                                                                        ref="lists"/>
                                                                <paraformat
                                                                        jcr:primaryType="nt:unstructured"
                                                                        items="paraformat:getFormats:paraformat-pulldown"
                                                                        ref="paraformat"/>
                                                            </popovers>
                                                        </inline>
                                                        <tableEditOptions
                                                                jcr:primaryType="nt:unstructured"
                                                                toolbar="[table#insertcolumn-before,table#insertcolumn-after,table#removecolumn,-,table#insertrow-before,table#insertrow-after,table#removerow,-,table#mergecells-right,table#mergecells-down,table#mergecells,table#splitcell-horizontal,table#splitcell-vertical,-,table#selectrow,table#selectcolumn,-,table#ensureparagraph,-,table#modifytableandcell,table#removetable,-,undo#undo,undo#redo,-,table#exitTableEditing,-]"/>
                                                    </cui>
                                                </uiSettings>
                                            </<%= item.richText.name %>>
                                    <% } -%>
                                <% }) -%>
                            </items>
                        </field>
                    </<%= list.ulName %>List>
                <% }); -%>
                </items>
            </column>
            <% }-%>
        </items>
    </content>
</jcr:root>
